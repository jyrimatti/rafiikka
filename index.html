<!DOCTYPE HTML>
<html>

<head>
    <meta charset="UTF-8">
    <style>
        #chartdiv {
            width: 100%;
            height: 500px;
        }
        h1 {
            font-weight: 100;
            font-style: italic;
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            margin-left: 1em;
            margin-bottom: 0;
        }
        select {
            max-width: 7em;
        }
    </style>

    <!-- TODO
        - columneille vastaava 2-portainen aktiivisuus kuin junille
        - urliin myös tasot
        - junanumero labeliksi viivan myötäisesti
        - dateaxis custom formaatit
        - dateaxis päivälabel erikseen tuntitickien alle
        - lataus scrollatessa, eli kun scrollataan reunaan tai hypätään tyhjälle, niin siirretään xAxis min/max keskikohta vanhaan reunaan. Ja trigataan load ennakkotietodatalle
        - jump-to-date laatikko
        - aikataulupiste (erityisesti vaakasuora viiva) kertomaan "raide" eli siis kapasiteetinhallintayksikkö
		- sijainti heijastumaan urliin
        - ratatyöt
        - valitut objektit listaksi legendiin, tooltip mukaan
        - selectioniin valinnan alue tooltipiksi tms
        - ratanumero-akseli nyt olettaa ratakm=1000m. Miten korjata?
        - kielivalinta fi/en
        - riippuvuudet odottelemaan alkulatauksia
        - Jätä aktiiviset ennakkotiedot näkyviin vaikka sarja piilossa.
        - toteumille connect = false ja autoGapCount=999999999999 ?
        - koita toteumille/aikatauluille Heat-korostusta
    -->

    <script src="https://www.amcharts.com/lib/version/4.9.19/core.js"></script>
	<script src="https://www.amcharts.com/lib/version/4.9.19/charts.js"></script>
	<script src="https://www.amcharts.com/lib/version/4.9.19/lang/fi_FI.js"></script>
    <script src="https://www.amcharts.com/lib/version/4.9.19/themes/animated.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsts/2.2.2/jsts.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/javascript.util/0.12.12/javascript.util.min.js"></script>
    <script src="datefns.js"></script>
    <script src="yleiset.js"></script>
    <script src="infra.js"></script>
    <script src="ennakkotiedot.js"></script>
    <script src="junat.js"></script>
    <script src="aikataulut.js"></script>
    <script src="chart.js"></script>
    <script>
        
    </script>
</head>

<body>
    <a href="https://github.com/jyrimatti/rafiikka/"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>
    <h1>Rafiikka - Rataverkon reaaliaika- ja työrakografiikka</h1>
    <div id="chartdiv"></div>

    <h2>Työkalu on vielä kehityksessä. Muutamia huomioita:</h2>
    <ul>
        <li>Y-akseliksi voi ratanumeron tai aikataulupaikkavälin (lyhenteillä tai UICkoodeilla)</li>
        <li>LOIlmoitusten sijoittaminen y-akselin aikataulupaikoille ei vielä toteutettu</li>
        <li>EI/ES/VS sijoittaminen y-akselin aikataulupaikoille ei toimi vielä tarkasti</li>
        <li>Junien sijoittaminen y-akselin aikataulupaikoille ei toimi vielä tarkasti</li>
        <li>Objekteja (Ennakkotiedot, junat, aikataulut, toteumat) voi valita aktiiviseksi klikkaamalla objektia</li>
        <li>Aikataulujen ja toteumien piirtäminen on hidasta kun niitä on paljon (lue: pääkaupunkiseutu)</li>
        <li>Aikataulupaikkavälin hakeminen on hidasta, koska käyttää raskasta reittihakua. Tämä korjaantuu jos lyhin-reitti-haku välietapeilla on joskus saatavilla</li>
        <li>Y-akselin ollessa ratanumero, tehdään junasijainneille jatkuvasti gps->ratakm-muunnosta, mikä aiheuttaa paljon requesteja</li>
        <li>Aloitussijainnin voi valita urlin fragmentilla, esim: #sijainti=009</li>
        <li>Aloitusajanhetken voi valita urlin fragmentilla, esim: #aika=2020-02-14T00:00:00Z</li>
        <li>Aloitusaikavälin voi valita urlin fragmentilla, esim: #kesto=PT1H</li>
    </ul>
</body>

</html>