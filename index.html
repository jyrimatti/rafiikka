<!DOCTYPE HTML>
<html>

<head>
    <meta charset="UTF-8">

    <title>Rafiikka</title>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.3.1/css/ol.css" />
    <link rel="stylesheet" href="https://unpkg.com/ol-layerswitcher@3.5.0/src/ol-layerswitcher.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.12.6/css/selectize.default.min.css" />
    <link rel="stylesheet" href="style.css" />

    <!-- TODO
        - grafiikan tasojen j√§rjestys (piirto-z-index) jotenkin valittavaksi
        - columneille vastaava 2-portainen aktiivisuus kuin junille
        - urliin my√∂s tasot
        - junanumero labeliksi viivan my√∂t√§isesti
        - aikataulupaikat ep√§tasaisille v√§leille (esim linnuntiesijainnin mukaan)
        - dateaxis custom formaatit
        - dateaxis p√§iv√§label erikseen tuntitickien alle
        - lataus scrollatessa, eli kun scrollataan reunaan tai hyp√§t√§√§n tyhj√§lle, niin siirret√§√§n xAxis min/max keskikohta vanhaan reunaan. Ja trigataan load ennakkotietodatalle
        - aikataulupiste (erityisesti vaakasuora viiva) kertomaan "raide" eli siis kapasiteetinhallintayksikk√∂
        - ratanumero-akseli nyt olettaa ratakm=1000m. Miten korjata?
        - kielivalinta fi/en
        - ajat n√§ytt√§m√§√§n suomen aikaa selaimen localesta riippumatta?
        - riippuvuudet odottelemaan alkulatauksia
        - J√§t√§ aktiiviset ennakkotiedot n√§kyviin vaikka sarja piilossa.
        - toteumille connect = false ja autoGapCount=999999999999 ?
        - koita toteumille/aikatauluille Heat-korostusta
        - junan sijainti korostumaan aikataulun√§kym√§ss√§
    -->
</head>

<body class="fi">
    <a href="https://github.com/jyrimatti/rafiikka/"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>
    <progress id="progress" max="1"></progress>
    <h1><a href="">Rafiikka</a> - Rataverkon reaaliaikagrafiikka, ty√∂rakografiikka, karttak√§ytt√∂liittym√§ ja tilastopalvelu</h1>

    <div class="palkki" id="palkki">
        <nav class="menu">
            <a style="font-size: 2em;"   href="" title="Avaa kartta"    onclick="kartta(getMainState('sijainti'), undefined, undefined, true, '4em', '8em', '4em', '4em'); return false;">üó∫</a>
            <a style="font-size: 1.8em;" href="" title="Avaa aikataulu" onclick="luoJunaPopup(); return false;">üìÖ</a>
            <span class="statistics">
                <span class="trigger" title="Tilastoja">üìä</span>
                <span class="content">
                    <a style="background-image: url('https://rata.digitraffic.fi/jeti-api/latest/icons/ennakkoilmoitus.svg')"    href="" onclick="luoTilastoPopupEI(); return false;">Ennakkoilmoitukset</a>
                    <a style="background-image: url('https://rata.digitraffic.fi/jeti-api/latest/icons/ennakkosuunnitelma.svg')" href="" onclick="luoTilastoPopupES(); return false;">Ennakkosuunnitelmat</a>
                    <a style="background-image: url('https://rata.digitraffic.fi/jeti-api/latest/icons/vuosisuunnitelma.svg')"   href="" onclick="luoTilastoPopupVS(); return false;">Vuosisuunnitelmat</a>
                    <a style="background-image: url('https://rata.digitraffic.fi/jeti-api/latest/icons/loilmoitus.svg')"         href="" onclick="luoTilastoPopupLO(); return false;">LO-ilmoitukset</a>
                    
                    <span class="infra">
                        <a href="" onclick="luoTilastoPopupRatapihapalvelut();          return false;">Ratapihapalvelut</a>
                        <a href="" onclick="luoTilastoPopupToimialueet();               return false;">Toimialueet</a>
                        <a href="" onclick="luoTilastoPopupTilirataosat();              return false;">Tilirataosat</a>
                        <a href="" onclick="luoTilastoPopupLiikennesuunnittelualueet(); return false;">Liikennesuunnittelualueet</a>
                        <a href="" onclick="luoTilastoPopupPaikantamismerkit();         return false;">Paikantamismerkit</a>
                        <a href="" onclick="luoTilastoPopupKilometrimerkit();           return false;">Kilometrimerkit</a>
                        <a href="" onclick="luoTilastoPopupRadat();                     return false;">Radat</a>
                        <a href="" onclick="luoTilastoPopupLiikennepaikanOsat();        return false;">Liikennepaikan osat</a>
                        <div class="row"><a class="regular" href="" onclick="luoTilastoPopupRautatieliikennepaikat(); return false;">Rautatieliikennepaikat</a> <a href="" onclick="luoTilastoPopupRautatieliikennepaikat(false); return false;">lisualueittain</a></div>
                        <a href="" onclick="luoTilastoPopupLiikennepaikkavalit();       return false;">Liikennepaikkav√§lit</a>
                        <a href="" onclick="luoTilastoPopupRaideosuudet();              return false;">Raideosuudet</a>

                        <div class="row">Akselinlaskijat                                                            <a href="" onclick="luoTilastoPopupAkselinlaskija(false);                   return false;">lisualueittain</a><a href="" onclick="luoTilastoPopupAkselinlaskija(true)                  ; return false;">k√§ytt√∂keskuksittain</a></div>
                        <div class="row"><a class="regular" href="" onclick="luoTilastoPopupBaliisi(); return false;">Baliisit</a>  <a href="" onclick="luoTilastoPopupBaliisi(false);          return false;">lisualueittain</a><a href="" onclick="luoTilastoPopupBaliisi(true)                         ; return false;">k√§ytt√∂keskuksittain</a></div>
                        <div class="row">Kuumak√§ynti-ilmaisimet                                                     <a href="" onclick="luoTilastoPopupKuumakayntiilmaisin(false);              return false;">lisualueittain</a><a href="" onclick="luoTilastoPopupKuumakayntiilmaisin(true)             ; return false;">k√§ytt√∂keskuksittain</a></div>
                        <div class="row">Liikennepaikan rajat                                                       <a href="" onclick="luoTilastoPopupLiikennepaikanraja(false);               return false;">lisualueittain</a><a href="" onclick="luoTilastoPopupLiikennepaikanraja(true)              ; return false;">k√§ytt√∂keskuksittain</a></div>
                        <div class="row"><a class="regular" href="" onclick="luoTilastoPopupOpastin(); return false;">Opastimet</a> <a href="" onclick="luoTilastoPopupOpastin(false);          return false;">lisualueittain</a><a href="" onclick="luoTilastoPopupOpastin(true)                         ; return false;">k√§ytt√∂keskuksittain</a></div>
                        <div class="row">Puskimet                                                                   <a href="" onclick="luoTilastoPopupPuskin(false);                           return false;">lisualueittain</a><a href="" onclick="luoTilastoPopupPuskin(true)                          ; return false;">k√§ytt√∂keskuksittain</a></div>
                        <div class="row">Py√∂r√§voimailmaisimet                                                       <a href="" onclick="luoTilastoPopupPyoravoimailmaisin(false);               return false;">lisualueittain</a><a href="" onclick="luoTilastoPopupPyoravoimailmaisin(true)              ; return false;">k√§ytt√∂keskuksittain</a></div>
                        <div class="row">Raide-eristykset                                                           <a href="" onclick="luoTilastoPopupRaideeristys(false);                     return false;">lisualueittain</a><a href="" onclick="luoTilastoPopupRaideeristys(true)                    ; return false;">k√§ytt√∂keskuksittain</a></div>
                        <div class="row">Pys√§ytyslaitteet                                                           <a href="" onclick="luoTilastoPopupPysaytyslaite(false);                    return false;">lisualueittain</a><a href="" onclick="luoTilastoPopupPysaytyslaite(true)                   ; return false;">k√§ytt√∂keskuksittain</a></div>
                        <div class="row">RFID-lukijat                                                               <a href="" onclick="luoTilastoPopupRfidlukija(false);                       return false;">lisualueittain</a><a href="" onclick="luoTilastoPopupRfidlukija(true)                      ; return false;">k√§ytt√∂keskuksittain</a></div>
                        <div class="row">Ryhmityseristimet                                                          <a href="" onclick="luoTilastoPopupRyhmityseristin(false);                  return false;">lisualueittain</a><a href="" onclick="luoTilastoPopupRyhmityseristin(true)                 ; return false;">k√§ytt√∂keskuksittain</a></div>
                        <div class="row">S√§hk√∂istys p√§√§ttyy                                                         <a href="" onclick="luoTilastoPopupSahkoistyspaattyy(false);                return false;">lisualueittain</a><a href="" onclick="luoTilastoPopupSahkoistyspaattyy(true)               ; return false;">k√§ytt√∂keskuksittain</a></div>
                        <div class="row">Seislevyt                                                                  <a href="" onclick="luoTilastoPopupSeislevy(false);                         return false;">lisualueittain</a><a href="" onclick="luoTilastoPopupSeislevy(true)                        ; return false;">k√§ytt√∂keskuksittain</a></div>
                        <div class="row"><a class="regular" href="" onclick="luoTilastoPopupVaihde(); return false;">Vaihteet</a>   <a href="" onclick="luoTilastoPopupVaihde(false);           return false;">lisualueittain</a><a href="" onclick="luoTilastoPopupVaihde(true)                          ; return false;">k√§ytt√∂keskuksittain</a></div>
                        <div class="row">Virroitinvalvontakamerat                                                   <a href="" onclick="luoTilastoPopupVirroitinvalvontakamera(false);          return false;">lisualueittain</a><a href="" onclick="luoTilastoPopupVirroitinvalvontakamera(true)         ; return false;">k√§ytt√∂keskuksittain</a></div>
                        <div class="row">Erotusjaksot                                                               <a href="" onclick="luoTilastoPopupErotusjakso(false);                      return false;">lisualueittain</a><a href="" onclick="luoTilastoPopupErotusjakso(true)                     ; return false;">k√§ytt√∂keskuksittain</a></div>
                        <div class="row">Erotuskent√§t                                                               <a href="" onclick="luoTilastoPopupErotuskentta(false);                     return false;">lisualueittain</a><a href="" onclick="luoTilastoPopupErotuskentta(true)                    ; return false;">k√§ytt√∂keskuksittain</a></div>
                        <div class="row">Maadoittimet                                                               <a href="" onclick="luoTilastoPopupMaadoitin(false);                        return false;">lisualueittain</a><a href="" onclick="luoTilastoPopupMaadoitin(true)                       ; return false;">k√§ytt√∂keskuksittain</a></div>
                        <div class="row">Ty√∂naikaiset eristimet                                                     <a href="" onclick="luoTilastoPopupTyonaikaineneristin(false);              return false;">lisualueittain</a><a href="" onclick="luoTilastoPopupTyonaikaineneristin(true)             ; return false;">k√§ytt√∂keskuksittain</a></div>
                        <div class="row">K√§√§nt√∂p√∂yd√§t                                                               <a href="" onclick="luoTilastoPopupKaantopoyta(false);                      return false;">lisualueittain</a><a href="" onclick="luoTilastoPopupKaantopoyta(true)                     ; return false;">k√§ytt√∂keskuksittain</a></div>
                        <div class="row">Py√∂r√§profiilin mittalaitteet                                               <a href="" onclick="luoTilastoPopupPyoraprofiilimittalaite(false);          return false;">lisualueittain</a><a href="" onclick="luoTilastoPopupPyoraprofiilimittalaite(true)         ; return false;">k√§ytt√∂keskuksittain</a></div>
                        <div class="row">Telivalvonnat                                                              <a href="" onclick="luoTilastoPopupTelivalvonta(false);                     return false;">lisualueittain</a><a href="" onclick="luoTilastoPopupTelivalvonta(true)                    ; return false;">k√§ytt√∂keskuksittain</a></div>
                        <div class="row">Erottimet                                                                  <a href="" onclick="luoTilastoPopupErotin(false);                           return false;">lisualueittain</a><a href="" onclick="luoTilastoPopupErotin(true)                          ; return false;">k√§ytt√∂keskuksittain</a></div>
                        <div class="row">Tasoristeysvalojen py√∂r√§tunnistin                                          <a href="" onclick="luoTilastoPopupTasoristeysvalojenpyoratunnistin(false); return false;">lisualueittain</a><a href="" onclick="luoTilastoPopupTasoristeysvalojenpyoratunnistin(true); return false;">k√§ytt√∂keskuksittain</a></div>

                        <a href="" onclick="luoTilastoPopupRaiteensulut();             return false;">Raiteensulut</a>
                        <a href="" onclick="luoTilastoPopupRaiteet();                  return false;">Raiteet</a>
                        <a href="" onclick="luoTilastoPopupLiikenteenohjauksenrajat(); return false;">Liikenteenohjauksen rajat</a>
                        <a href="" onclick="luoTilastoPopupTunnelit();                 return false;">Tunnelit</a>
                        <a href="" onclick="luoTilastoPopupSillat();                   return false;">Sillat</a>
                        <a href="" onclick="luoTilastoPopupLaiturit();                 return false;">Laiturit</a>
                        <div class="row"><a class="regular" href="" onclick="luoTilastoPopupTasoristeykset(); return false;">Tasoristeykset</a> <a href="" onclick="luoTilastoPopupTasoristeykset(true); return false;">k√§ytt√∂keskuksittain</a></div>
                        <a href="" onclick="luoTilastoPopupKayttokeskukset();          return false;">K√§ytt√∂keskukset</a>
                        <div class="row"><a class="regular" href="" onclick="luoTilastoPopupKytkentaryhmat(); return false;">Kytkent√§ryhm√§t</a> <a href="" onclick="luoTilastoPopupKytkentaryhmat(true); return false;">k√§ytt√∂keskuksittain</a></div>
                    </span>
                </span>
            </span>
            <span class="changes">
                <span class="trigger" title="Muutoksia">¬±</span>
                <span class="content">
                    <select id="delta1">
                        <option value="-">Edellisen</option>
                        <option value="" selected="selected">Seuraavan</option>
                    </select>
                    <select id="delta2">
                        <option value="1" selected="selected">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                        <option value="13">13</option>
                        <option value="14">14</option>
                        <option value="15">15</option>
                        <option value="16">16</option>
                        <option value="17">17</option>
                        <option value="18">18</option>
                        <option value="19">19</option>
                        <option value="20">20</option>
                    </select>
                    <select id="delta3">
                        <option value="D">p√§iv√§n</option>
                        <option value="W" selected="selected">viikon</option>
                        <option value="M">kuukauden</option>
                    </select>
                    aikana
                    <select id="delta4">
                        <option value="true" selected="selected">ilmaantuvia</option>
                        <option value="false">poistuvia</option>
                    </select>
                    <div>
                        <a href="" onclick="luoMuutoksetPopup(document.getElementById('delta4').value === 'true', document.getElementById('delta1').value + 'P' + document.getElementById('delta2').value + document.getElementById('delta3').value, muutoksetInfra); return false;">ratainfra</a>
                    </div>
                    <div>
                        <a href="" onclick="luoMuutoksetPopup(document.getElementById('delta4').value === 'true', document.getElementById('delta1').value + 'P' + document.getElementById('delta2').value + document.getElementById('delta3').value, muutoksetEtj2); return false;">ennakkotiedot</a>
                    </div>
                </span>
            </span>
        </nav>
        <div class="hakuohje">
            <span class="trigger">?</span>
            <span class="content">
                <h5>Hakulaatikon ymm√§rt√§m√§ syntaksi ja esimerkkej√§:</h5>
                <dl>
                    <dt>OID:</dt>                        <dd>1.2.246.586.1.39.81466</dd>
                    <dt>Lyhyt nimi:</dt>                 <dd>EI123</dd>
                    <dt>Koordinaatti:</dt>               <dd>701829,6954463</dd><dd>30.940161,62.66599</dd>
                    <dt>Ratanumero:</dt>                 <dd>003</dd>
                    <dt>Ratakilometrisijainti:</dt>      <dd>(003) 1+0345</dd>
                    <dt>Ratakilometriv√§li:</dt>          <dd>(003) 1+0345-2+0012</dd>
                    <dt>Paikantamismerkkisijainti:</dt>  <dd>3+120</dd><dd>3-120</dd>
                    <dt>Juna:</dt>                       <dd>2020-10-31 148</dd>
                    <dt>L√§ht√∂p√§iv√§n aikataulut:</dt>     <dd>2020-10-31</dd>
                    <dt>T√§m√§n p√§iv√§n juna:</dt>          <dd>148</dd>
                    <dt>Reitti:</dt>                     <dd>1.2.246.586.1.39.119282 => 1.2.246.586.1.39.82187 => 1.2.246.586.1.39.81523</dd>
                    <dt>Reitti:</dt>                     <dd>Tpe => Ov => Jy</dd>
                    <dt>WKT-geometria:</dt>              <dd>POINT(701829 6954463)</dd>
                    <dt>Vapaasanahaku:</dt>              <dd>Kangasala</dd>
                </dl>
            </span>
        </div>
        <input style="display: none" id="search" placeholder="hae..." />
    </div>

    <div id="chartdiv"></div>

    <h2>Ominaisuuksia:</h2>
    <ul>
        <li>Y-akseliksi voi valita ratanumeron tai aikataulupaikkav√§lin, joko tasovalikon valintalaatikoista tai hakulaatikon kautta.</li>
        <li>Objekteja (Ennakkotiedot, rataty√∂t, junat, aikataulut, toteumat) voi valita aktiiviseksi klikkaamalla objektia ty√∂rakografiikalla.</li>
        <li>Objekteja voi avata kartalle tuplaklikkaamalla niit√§.</li>
        <li>Kartalla olevia objekteja voi korostaa ja avata lis√§tietoja klikkaamalla.</li>
        <li>Klikkaamalla ikonia ‚ÑπÔ∏è, <img class="infoikoni" src="https://rata.digitraffic.fi/infra-api/r/favicon.ico" />, <img class="infoikoni" src="https://rata.digitraffic.fi/jeti-api/r/favicon.ico" />, üó∫, üìÖ tai üìà voi avata kyseisen objektin lis√§tietoikkunan, Infra-API-sivun, Jeti-API-sivun, kartan, aikataulu-k√§yr√§n tai kohdistaa siihen ty√∂rakografiikan, mik√§li operaatio on j√§rkev√§ kyseiselle objetille. Ikoneita n√§kyy esimerkiksi hakutuloksissa, popup-ikkunoiden yl√§palkissa sek√§ ty√∂rakografiikan tasovalikon valituissa objekteissa.</li>
        <li>Kartalle voi hakea ratainfraa, ennakkotietoja (Jeti), ratat√∂it√§ (Ruma), junia sek√§ WKT-geometrioita.</li>
        <li>Kartta tukee my√∂s skemaattista kaavioesitystapaa.</li>
        <li>Kartan aikakontekstiksi voi valita ajanhetken tai aikav√§lin. Aikav√§lin ollessa valittu ladataan ratainfra/ennakkotiedot kyseisell√§ v√§lill√§, ja slideria klikkaamalla vaihdettua n√§kym√§√§ lennossa esitt√§m√§√§n eri ajanhetki√§.</li>
        <li>Valitsemalla ty√∂rakografiikalta Junat-tason n√§kyviin, alkavat junien sijainnit p√§ivitty√§ my√∂s kartalla.</li>
        <li>Voit hakea karttaikkunaan lis√§√§ sis√§lt√∂√§ sen omalla hakulaatikolla.</li>
        <li>Ty√∂rakogafiikkaa voi siirrell√§ ja zoomailla palkeilla ja painonapeilla. Valintaty√∂kalulla voi piirt√§√§ ty√∂rakovalintoja.</li>
        <li>Objekteja voi siirt√§√§ ikkunasta toiseen raahaamalla haun laatikoita tai otsikkoteksti√§.</li>
        <li>Hakulaatikolla voi tehd√§ my√∂s muunnoksia koordinaattien, ratakilometrisijaintien ja paikantamismerkkisijaintien v√§lill√§.</li>
        <li>Hakulaatikossa voi avata korostetun tuloksen kartalle oikealle-nuolella, ja sulkea kartan vasemmalle-nuolella.</li>
        <li>Klikkaamalla yl√§palkin üìä saat auki tilastotietoja ennakkotiedoista ja ratainfrasta.</li>
        <li>Klikkaamalla yl√§palkin ¬± saat auki tietoa tulevista ja poistuvista ennakkotiedoista ja ratainfra objekteista.</li>
        <li>Objekteja voi avata suoraan kartalle laittamalle ne osoitteeseen pilkuilla erotettuina: <a href="https://rafiikka.lahteenmaki.net#ES94113,1.2.246.586.1.24.135846">https://rafiikka.lahteenmaki.net#ES94113,1.2.246.586.1.24.135846</a></li>
    </ul>

    <h2>Ty√∂kalu on viel√§ kehityksess√§. Muutamia huomioita:</h2>
    <ul>
        <li>Kuulisin mielell√§ni bugeista, puutteista ja kehitysehdotuksista. Kerro esimerkiksi <a href="https://github.com/jyrimatti/rafiikka/">Githubissa</a> tai <a href="https://twitter.com/jyrimatti/">Twitteriss√§</a> tai miten haluat.</li>
        <li>K√§yt√§n kehityksess√§ Chromea, joten muilla selaimilla voi tapahtua outouksia.</li>
        <li>Aikataulujen ja toteumien piirt√§minen on hidasta kun niit√§ on paljon (lue: p√§√§kaupunkiseutu).</li>
        <li>Aikataulupaikkav√§lin hakeminen on hidasta, koska k√§ytt√§√§ raskasta reittihakua. T√§h√§n tulossa my√∂hemmin nopeutusta.</li>
        <li>Y-akselin ollessa ratanumero, tehd√§√§n junasijainneille jatkuvasti gps->ratakm-muunnosta, mik√§ aiheuttaa paljon requesteja. T√§m√§ korjaantuu kun digitraffic tarjoaa junille ratakmsijainnit suoraan.</li>
        <li>Kaavioesitystapaa ei ole junille, joiden sijaintitietona on toistaiseksi vain GPS.</li>
        <li>Aikataulutietojen ja Rumatietojen lis√§tieto-popup n√§ytt√§√§ toistaiseksi raaka-json-dataa, sill√§ kyseiset rajapinnat eiv√§t tarjoa muuta valmiina.</li>
    </ul>
</body>
    <script src="https://www.amcharts.com/lib/version/4.10.16/core.js"></script>
	<script src="https://www.amcharts.com/lib/version/4.10.16/charts.js"></script>
	<script src="https://www.amcharts.com/lib/version/4.10.16/lang/fi_FI.js"></script>
    <script src="https://www.amcharts.com/lib/version/4.10.16/themes/animated.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsts/2.2.2/jsts.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/javascript.util/0.12.12/javascript.util.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.7.0/build/ol.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.6.2/proj4.min.js"></script>
    <script src="https://unpkg.com/ol-layerswitcher@3.5.0"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.12.6/js/standalone/selectize.min.js"></script>
    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <script src="https://unpkg.com/tippy.js@6"></script>
    <script src="DragDropTouch.js"></script> <!-- https://github.com/Bernardo-Castilho/dragdroptouch -->
    <script src="datefns.js"></script>
    <script src="drag.js"></script>
    <script src="state.js"></script>
    <script src="yleiset.js"></script>
    <script src="tooltip.js"></script>
    <script src="spatial.js"></script>
    <script src="popup.js"></script>
    <script src="haku.js"></script>
    <script src="infra.js"></script>
    <script src="infraData.js"></script>
    <script src="ennakkotiedot.js"></script>
    <script src="ratatyot.js"></script>
    <script src="junat.js"></script>
    <script src="aikataulut.js"></script>
    <script src="raide.js"></script>
    <script src="chart.js"></script>
    <script src="karttaStyles.js"></script>
    <script src="karttaLayers.js"></script>
    <script src="lista.js"></script>
    <script src="KarttaControlRotateLeft.js"></script>
    <script src="KarttaControlRotateRight.js"></script>
    <script src="kartta.js"></script>
    <script src="tilastot.js"></script>
    <script src="muutokset.js"></script>

    <script>
        initTooltips(document.getElementById('palkki'));
    </script>
</html>